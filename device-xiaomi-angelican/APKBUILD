# Reference: <https://postmarketos.org/devicepkg>
pkgname=device-xiaomi-angelican
pkgdesc="Xiaomi Redmi 9C NFC"
pkgver=0.1
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="aarch64"
options="!check !archcheck !strip"
depends="
	linux-xiaomi-angelican
	mkbootimg
	postmarketos-base
	msm-fb-refresher
"
makedepends="devicepkg-dev"
source="
	deviceinfo
	firmware/*
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	for _i in $(find $srcdir ! -type d);do
		echo "Installing firmware $_i"
                install -Dm644 "$_i" \
                        "$pkgdir"/lib/firmware/postmarketos/"$(basename $_i)"
        done
	devicepkg_package $startdir $pkgname
}

sha512sums="
6b8df42e28a10445f5b97f76ffd37a346feada36f95c784ef6d09684c10e6590ff4b96e8071b21457fd76424a047904d831e18a1f39ddd6163161a24bc6e71c0  deviceinfo
87a1e3b1f31a7a2717992621eaad272d8ad7e2dca7346e7fcd583e70eb73d817bcfc32b51c322e19ccf575fa0ef3ea7f6279e3176abc4db0c5d49336b9971d05  BT_FW.cfg
3f973f1ae3f24dd9aa087976cc5965aad41c4a0065f69b3e20c1ebe44e34ee2821312f9610b0c8db6b7b6782cb196afca557f86819514e3873d0be468c588ef4  Himax_firmware.bin
43bea79d5af5ada68eb96b5947c88f385f15d7691c6868bf54dcc31ca7175b037422d7e19065b2e24a511de6d60082b11676b7e8e0b3dccbc66a09c1d64e1f1d  Himax_mpfw.bin
ab942f526272e456ed68a979f50202905ca903a141ed98443567b11ef0bf25a552d639051a01be58558122c58e3de07d749ee59ded36acf0c55cd91924d6ba11  MNL.bin
83f8738f5166cf30778772efaa9c74d3f8df07d6bce98ed4f2244b98be23444878cf171c7805a8c8841390158a426f666b1269855c07ada1e32b4d7f2113e15e  WIFI_RAM_CODE_soc1_0_1_1.bin
b927021e8503435976ab996fd87a90ed7f2714cc8e873fe48d510e3f4f9dfbf7518cb7b7e975f6f320782c0edb30a369fe5efcc261f77fbd11cd725615d13739  WMT_SOC.cfg
5aa88c17e3cc188cf8f8ab2cba199c9e4584802546b6c0b57da9a70b4a6ca95cb4470c663b1188a82353b25bb8a145d5c9980838ce25e1d260bc962453d17469  fm_cust.cfg
ef5fb971d1fac6d49f5f7a23312aad6f559c062b6202b9e47f69890fa6dbcf3a9dc6145874ed997577f47a8a7645476390d3190b0667009b347647e9b344607e  focaltech_ts_fw_helitai.bin
9301380cac65b6af5c540d81a5c1630b152f12c3b7641de28c5abb4968cab59d72b18e256ce68f34acca833d437f0b8bbbb96ed2766efe0930f37ea1a71a9f53  gt1151_default_firmware2.img
c04d15e29c30e8c92f5034012eb802ade25388f17e65f7e166f686eded94cffe3c30cb68a3b17fe675ac5f1f44e777afdc919b11261ed0c21b650dbd52c30262  hx_criteria.csv
df91218fece541c71e68b6fc87587b5f0fbef4807ac7acc0e084cd197b7b9929e08d6d714e6fd792d65946fc4a8e93906dd27e7ccc06db7c170a9be5300c4cc1  ilitek_fw.bin
3810cbf39b79c2209866320066df282eff1aef25abfd59edb63d1731b8fbb79447fd6f41e31dc5b9dfd345864503247198eac864e7aab306b64ccba552e3aeda  mt6631_fm_v1_coeff.bin
11efe49264a329a83fe8b1b86842b9fca808d83178a0abc944b8e88ec1d0f5f2437dcf1539275dd97c2da91af882d7b5316c169caa6ec8adfde3e8a737077aeb  mt6631_fm_v1_patch.bin
bb1721a497dfb961c79d380b055666fca918433e45fd8a5904bca23a362b97852b44996ab955908a94cd9010c609d2865bad76896de6ebf7b7328ad3c9aad168  novatek_ts_djn_fw.bin
9648bd9016741d1d20ab3c0f5dbc88be7fde614a17d442d8ab3f933a95e481ebf25753763e9fe5a6a5abf243787b0fdbb3b4314862d73f5d17c9077b0a16da1a  novatek_ts_djn_mp.bin
6fb69a732c0c4754b865c6d67a20bfca642690a299a1c939d0bfb183ef07b8dff967566f17c1f4f66152aebde22345a9cddc7d4b2624b717529181f12f073f0d  novatek_ts_ebbg_fw.bin
e60fae5820e795e30face02689809b849d305d4452920a24999eb4080ce54d0b8b488939abdac536a55c46231c9178090fce58fe116961320013c25d60733b03  novatek_ts_ebbg_mp.bin
97c30a0ff2885f01dcaf5223189a16719e4db1e6348fab17300a4942d68e613ed1842e87f6237e0054badcdb7a980c82ad0bccedcbc46b8f2089a9a1d0e23edd  novatek_ts_hlt_fw.bin
888b64fb87e24057b9fcb88b91bb0ddade2f1c4397dfaf134a971c3f53fea53f292f88f2a2751e96a327ab03e545d4f2e82677d08200ad53547015ba5cffa0d7  novatek_ts_hlt_mp.bin
4cfce4f8f92a78b7e2c1c357de6ac921afbc47cd1519b3ee25e564cf5fa2781191f0cefe7a808e96f5b49e378f3d9852ff838f30859f7ba213c6a3a154bbc567  novatek_ts_truly_fw.bin
0cefdd2c37dde2d20d2803ac89cbc7b5af1e4fbc83fb103cdbabf788c9feee6de023a4248c5e170caa4c8dde31ef4685bc65aa73268795b80cd7e9a41b6456e8  novatek_ts_truly_mp.bin
e604c1926ade257f1f44f2e9bbd29b6051a3e5dc06c867999da215d727be4e841c3785744fa95828aec890c139d21d3c82f349ae57c1e32226bd036906e6cff5  rgx.fw
b61625c873d52b17c58a99a669a7a2158a2487e2cf4a28429d1b7c710c6e08c28ec8e8b1bc4c210b2cfd032cbd97f7c76d5b5c893bd8976afd5f03e23325b33f  sec_s3nrn82_firmware.bin
85ddeb22ed43d77ea5dcd574a0e9db12a9fd43aace40de3196f4b435b3673f6261f8704400c1bca063e16de9668bc2970620d1dd5ebdf311248a06cf77936783  soc1_0_patch_mcu_1_1_hdr.bin
00a58a28cd83c77f0b54290c7f4aa4eb2569cf87c77805083a05909ea78e8e974cc2aa422a765b121d5721d6021ec69c6da5b7b4aeeaafcc1f6a19e14d5d84da  soc1_0_ram_bt_1_1_hdr.bin
374fd2fd65c81748a004b0e90c3310035f64ad092a01715eb8e054f58cc9eba7d64052698b857f25b9a80426b57cda797a27995010a62b292ebc1cf75d1245ed  soc1_0_ram_mcu_1_1_hdr.bin
ff05c50e10b44d83085e1ed3b2cd48d941b821fa7a2ebf6827b63e02e1204e330bf02d18792bcea522778018987076b8a2f1badf73acea29b61bdd4bda088c6e  soc1_0_ram_wifi_1_1_hdr.bin
7ec298bb19de7adfec6c6990bbe3c6bd2a14cc682482157494c80ec8fc427f17f6800f6958c55d96b5f936b3bff1bd5f64d02e6b3de99e2321cff4cd08820658  tfa9894.cnt
9b30a638da3fbc08170151af44849b878afcb795aa9b33de347b44428ef8f4e2f53674b61dccc5694f86e7f47e6da9c437ed7966411803e41a9afee8df7171d1  wifi.cfg
"
